import{r as t,U as C,a as s,F as v,j as e}from"./index-6e3fb46e.js";import{k as M,Q as b}from"./react-toastify.esm-a6770c20.js";import{F as N,v as w,b as f,M as g,d as x}from"./ReactToastify-3d97e782.js";/* empty css            */import"./clsx.m-1229b3e0.js";import"./hoist-non-react-statics.cjs-ce857b4d.js";const I=()=>{const{logindata:d,userdata:n}=t.exports.useContext(C),[i,y]=t.exports.useState({fullname:"",email:"",userRole:"",_id:"",password:""}),[r,A]=t.exports.useState(!0),[H,o]=t.exports.useState(),[S,c]=t.exports.useState("saveBTN"),U=a=>{A(!r),r?(o("profileInput"),c()):(o(""),c("saveBTN"))},V=async()=>{},h=[{id:1,label:"Full Name",name:"fullname",type:"text"},{id:2,label:"E-mail",name:"email",type:"email"},{id:3,label:"Password",name:"password",type:"text"},{id:4,label:"Confirm Password",name:"cpassword",type:"text"}],m=[{id:1,label:"User Role",name:"userRole",values:[{id:12,value:"admin",placehoder:"Admin"},{id:13,value:"user",placehoder:"User"}]}],p=async a=>{let l=localStorage.getItem("usersdatatoken");if((await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json",Authorization:l},body:JSON.stringify({userData:a})})).status===201)return b.success("User added Successfully ðŸ˜ƒ!",{position:"top-center"}),"ss";b.error("Something went wrong",{position:"top-center"})},z=async a=>{const l=await n.find(u=>u._id===a);y(l)};return s(v,{children:[e("div",{children:s("h2",{children:["Hello ",d==null?void 0:d.ValidUserOne.fullname.toUpperCase()]})}),s("div",{className:"addUserForm",children:[e(N,{initialValues:{fullname:"",email:"",password:"",cpassword:"",userRole:""},validationSchema:w,onSubmit:(a,{resetForm:l})=>{p(a),l()},children:e(f,{children:s("div",{className:"row",children:[h.map(a=>e("div",{className:"col-6",children:e(g,{...a})},a.id)),m.map(a=>e("div",{className:"col-6",children:e(x,{...a,children:a.values.map(l=>e("option",{value:l.value,children:l.placehoder},l.id))})},a.id)),e("div",{className:"mt-5",children:e("button",{type:"submit",children:"Add User"})})]})})}),e("div",{className:"row px-5",children:s("table",{className:"table  table-striped table-hover ",children:[e("thead",{className:"thead-dark",children:s("tr",{children:[e("th",{scope:"col",children:"Action"}),e("th",{scope:"col",children:"FullName"}),e("th",{scope:"col",children:"Email"}),e("th",{scope:"col",children:"UserRoles "})]})}),e("tbody",{children:n.map(a=>s("tr",{children:[e("td",{children:e("button",{className:"btn",onClick:l=>z(a._id),"data-toggle":"modal","data-target":"#myModal",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"20",fill:"currentColor",className:"bi bi-binoculars-fill",viewBox:"0 0 16 16",children:e("path",{d:"M4.5 1A1.5 1.5 0 0 0 3 2.5V3h4v-.5A1.5 1.5 0 0 0 5.5 1h-1zM7 4v1h2V4h4v.882a.5.5 0 0 0 .276.447l.895.447A1.5 1.5 0 0 1 15 7.118V13H9v-1.5a.5.5 0 0 1 .146-.354l.854-.853V9.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v.793l.854.853A.5.5 0 0 1 7 11.5V13H1V7.118a1.5 1.5 0 0 1 .83-1.342l.894-.447A.5.5 0 0 0 3 4.882V4h4zM1 14v.5A1.5 1.5 0 0 0 2.5 16h3A1.5 1.5 0 0 0 7 14.5V14H1zm8 0v.5a1.5 1.5 0 0 0 1.5 1.5h3a1.5 1.5 0 0 0 1.5-1.5V14H9zm4-11H9v-.5A1.5 1.5 0 0 1 10.5 1h1A1.5 1.5 0 0 1 13 2.5V3z"})})})}),e("td",{children:a.fullname}),e("td",{children:a.email}),e("td",{children:a.userRole})]},a._id))})]})}),e("div",{className:"modal",id:"myModal",children:e("div",{className:"modal-dialog",style:{width:"700px"},children:e("div",{className:"modal-content",children:e(N,{initialValues:{fullname:i.fullname,email:i.email,userRole:i.userRole},enableReinitialize:!0,validationSchema:w,onSubmit:(a,{resetForm:l})=>{p(a),l()},children:s(v,{children:[s("div",{className:"modal-header",children:[s("h4",{className:"modal-title",children:[i.fullname," "]}),e("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",children:"âœ–"})]}),e("div",{className:"modal-body",children:e("div",{className:"row",children:e(f,{children:s("div",{className:"row",children:[h.map(a=>e("div",{className:"col-12",children:e(g,{...a})},a.id)),m.map(a=>e("div",{className:"col-12",children:e(x,{...a,children:a.values.map(l=>e("option",{value:l.value,children:l.placehoder},l.id))})},a.id)),e("div",{className:"mt-5",children:e("button",{type:"submit",children:"Add User"})})]})})})}),s("div",{className:"modal-footer",children:[s("div",{children:[s("button",{className:" btn-del",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-trash-fill",viewBox:"0 0 16 16",children:e("path",{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"})}),e("span",{className:"px-1",children:"Delete"})]}),s("button",{className:" btn-edit",onClick:U,children:[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-pencil-square",viewBox:"0 0 16 16",children:[e("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),e("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"})]}),e("span",{className:"px-1",children:r?"Edit":"Cancel"})]})]}),e("div",{className:S,children:e("button",{type:"button",onClick:V,children:"Save"})})]})]})})})})})]}),e(M,{})]})};export{I as default};
